# TinyChainling – Bitwise & SHA-256 Basics

This document is a simple, beginner-friendly explanation of the bitwise operators and SHA-256 internal functions used in building a minimal blockchain. The goal is to help you remember how the low-level mechanics work.

---

## 🔧 Bitwise Operators

### **1. Right Shift (`>>`)**

Moves all bits to the right and drops the ones that fall off.

Example:

```
00011000 >> 2 = 00000110
```

Useful for mixing bits.

---

### **2. XOR (`^`)**

Outputs 1 only when bits are different.

```
0 ^ 1 = 1
1 ^ 0 = 1
0 ^ 0 = 0
1 ^ 1 = 0
```

Good for creating chaos and mixing.

---

### **3. AND (`&`)**

Outputs 1 only when both bits are 1.
Used for masking and selecting bits.

---

### **4. OR (`|`)**

Outputs 1 when any of the two bits is 1.

---

### **5. NOT (`~`)**

Flips every bit.

```
~1010 = 0101
```

Used for inverting masks.

---

### **6. Rotate Right (`ROTR(x, n)`)**

Rotates bits like a wheel instead of shifting.

```
x = 10011010
ROTR(x, 3) = 01010011
```

Very important for cryptographic mixing.

---

## 🌀 SHA-256 Special Functions

These combine shifts, rotates, and XORs to create strong chaotic behavior.

### **Big Sigma Functions (Σ0, Σ1)**

Used in each compression round.

**Σ0(x)**:

```
ROTR(x, 2) ^ ROTR(x, 13) ^ ROTR(x, 22)
```

**Σ1(x)**:

```
ROTR(x, 6) ^ ROTR(x, 11) ^ ROTR(x, 25)
```

Purpose: Mix bits from far apart, creating avalanche effects.

---

### **Small Sigma Functions (σ0, σ1)**

Used when expanding the message block.

**σ0(x)**:

```
ROTR(x, 7) ^ ROTR(x, 18) ^ (x >> 3)
```

**σ1(x)**:

```
ROTR(x, 17) ^ ROTR(x, 19) ^ (x >> 10)
```

Purpose: Introduce nonlinearity and prevent predictability.

---

## 🤖 Helper Functions

### **Ch(x, y, z) – "Choose"**

Selects bits depending on x.

```
(x & y) ^ (~x & z)
```

Meaning:

* If x = 1 → choose bits from y
* If x = 0 → choose bits from z

---

### **Maj(x, y, z) – "Majority"**

Outputs the bit that appears at least twice among x, y, z.

```
(x & y) ^ (x & z) ^ (y & z)
```

Used to stabilize the compression state.

---

## 🧬 Why SHA-256 Uses These

* **Avalanche effect**: Changing 1 bit in input changes ~128 bits in output.
* **Strong mixing**: Rotate + XOR spreads changes everywhere.
* **Nonlinearity**: Prevents attackers from reversing the hash.
* **Determinism**: Same input → same output.

These properties make SHA-256 secure and ideal for blockchain.

---

## 🔚 Summary Table

| Component | Purpose                                   |
| --------- | ----------------------------------------- |
| Shifts    | Lose bits intentionally, create diffusion |
| XOR       | Combine bits unpredictably                |
| Rotate    | Mix bits without losing any               |
| Σ0/Σ1     | Chaotic mixing in compression             |
| σ0/σ1     | Expands message into 64 words             |
| Ch        | Conditional selection                     |
| Maj       | Majority vote for stability               |

---

This file should help you remember the mechanics when reading or modifying your tiny blockchain implementation.
